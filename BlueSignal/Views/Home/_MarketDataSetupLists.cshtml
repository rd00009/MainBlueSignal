
<br />
<div class="row">
    <div class="col-sm-12">
        <div class="panel-group accordion">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title"> <a data-toggle="collapse" href="#collapseDaily">Market Data - Daily</a> </h4>
                </div>
                <div>
                    <label><input type="radio" onchange="ToggleRadioButtons('#rdBlueFractal', '.radioMarketDataType')" class="radioMarketDataType" checked="checked" value="BlueFractal" id="rdBlueFractal" /> BlueFractal</label>
                    &nbsp;
                    <label><input type="radio" onchange="ToggleRadioButtons('#rdBlueNeural', '.radioMarketDataType')" class="radioMarketDataType" value="BlueNeural" id="rdBlueNeural" /> BlueNeural</label>
                </div>
                <div id="collapseMD1" class="panel-collapse collapse in">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-12">
                                <div style="overflow:auto;">
                                    <div class="table-responsive table_style">
                                        <table id="MarketData1" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                                            <thead>
                                                <tr>
                                                    <th>Sr. No.</th>
                                                    <th>Name</th>
                                                    <th>Symbol</th>
                                                    <th>Options</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @*<div class="col-sm-12">
            <div class="panel-group accordion">
                <div class="panel panel-default">
                    <div id="collapse7" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div style="height:200px; overflow:auto;">
                                        <div class="table-responsive table_style">
                                            <table id="Id_MarketDataListWeekly" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                                                <thead>
                                                    <tr>
                                                        <th>Symbol</th>
                                                        <th>TimeStamp</th>
                                                        <th>Trading Day</th>
                                                        <th>Open</th>

                                                        <th>High</th>
                                                        <th>Low</th>
                                                        <th>Close</th>
                                                        <th>Volume</th>
                                                        <th>Open Interest</th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12">
            <div class="panel-group accordion">
                <div class="panel panel-default">
                    <div id="collapse6" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div style="height:200px; overflow:auto;">
                                        <div class="table-responsive table_style">
                                            <table id="Id_MarketDataListMonthly" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                                                <thead>
                                                    <tr>
                                                        <th>Symbol</th>
                                                        <th>TimeStamp</th>
                                                        <th>Trading Day</th>
                                                        <th>Open</th>

                                                        <th>High</th>
                                                        <th>Low</th>
                                                        <th>Close</th>
                                                        <th>Volume</th>
                                                        <th>Open Interest</th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-sm-12">
            <div class="panel-group accordion">
                <div class="panel panel-default">
                    <div id="collapse6" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div style="height:200px; overflow:auto;">
                                        <div class="table-responsive table_style">
                                            <table id="Id_MarketDataListQuarterly" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                                                <thead>
                                                    <tr>
                                                        <th>Symbol</th>
                                                        <th>TimeStamp</th>
                                                        <th>Trading Day</th>
                                                        <th>Open</th>

                                                        <th>High</th>
                                                        <th>Low</th>
                                                        <th>Close</th>
                                                        <th>Volume</th>
                                                        <th>Open Interest</th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@
</div>
<script>
    $(function () {
        GetMarketSetupData();
    });

    function GetMarketSetupData() {
        $.ajax({
            type: "GET",
            url: "/Home/GetMarketSetupData",
            dataType: "json",
            async: true,
            data: null,//{ 'startDate': $('#date').val(), 'Type': $('#datafrequency').val(), 'selectedCode': selectedCode },
            success: function (data) {
                if (data != null) {
                    BindDataTable1("MarketData1", data.blueFractal);
                }
            },
            error: function (error) {
                console.log(error);
                alert('Error');
            }
        });
    }

    function ToggleRadioButtons(activeSelector, cssClass) {
        var selectedId = activeSelector.indexOf('BlueNeural') != -1 ? "102" : "101";
        $.ajax({
            type: "GET",
            url: "/Home/GetMarketSetDataByType",
            dataType: "json",
            async: true,
            data: { 'typeId': selectedId },//{ 'startDate': $('#date').val(), 'Type': $('#datafrequency').val(), 'selectedCode': selectedCode },
            success: function (data) {
                if (data != null) {
                    BindDataTable1("MarketData1", data);
                    $(cssClass).prop("checked", false);
                    $(activeSelector).prop("checked", "checked");
                }
            },
            error: function (error) {
                console.log(error);
                alert('Error');
            }
        });
    }

    function BindDataTable1(selector, data) {
        if ($.fn.dataTable.isDataTable('#' + selector)) {
            $('#' + selector).DataTable().destroy();
        }

        var table = $('#' + selector).DataTable({
            aaData: data,
            "columns": [
                     {
                         "data": null, render: function (data, type, row) {
                             return "";
                         }
                     },
                     { "data": "SymbolName", "name": "Name" },
                     { "data": "SymbolCode", "name": "symbol" },
                     {
                         "data": null, "name": "Options", render: function (data, type, row) {
                             return "<div>" +
                                 "<a class='glyphicon glyphicon-plus-sign' href='#'></a> " +
                                 "<a class='glyphicon glyphicon-edit' href='#'></a> " +
                                 "<a class='glyphicon glyphicon-remove-circle' href='#'></a> " +
                             "</div>";
                         }
                     }
            ]
            , select: true,
            "fnDrawCallback": function (oSettings) {
                /* Need to redo the counters if filtered or sorted */
                if (oSettings.bSorted || oSettings.bFiltered) {
                    for (var i = 0, iLen = oSettings.aiDisplay.length ; i < iLen ; i++) {
                        $('td:eq(0)', oSettings.aoData[oSettings.aiDisplay[i]].nTr).html(i + 1);
                    }
                }
            },

        });
    }

    function BindDataTable2(selector, data) {
        if ($.fn.dataTable.isDataTable('#' + selector)) {
            $('#' + selector).DataTable().destroy();
        }

        var table = $('#' + selector).DataTable({
            aaData: data,
            "columns": [
                     {
                         "data": null, render: function (data, type, row) {
                             return "";
                         }
                     },
                     { "data": "SymbolName", "name": "Name" },
                     { "data": "SymbolCode", "name": "symbol" },
                     {
                         "data": null, "name": "Options", render: function (data, type, row) {
                             return "<div>" +
                                 "<a class='glyphicon glyphicon-plus-sign' href='#'></a> " +
                                 "<a class='glyphicon glyphicon-edit' href='#'></a> " +
                                 "<a class='glyphicon glyphicon-remove-circle' href='#'></a> " +
                             "</div>";
                         }
                     }
            ]
            , select: true,
            "fnDrawCallback": function (oSettings) {
                /* Need to redo the counters if filtered or sorted */
                if (oSettings.bSorted || oSettings.bFiltered) {
                    for (var i = 0, iLen = oSettings.aiDisplay.length ; i < iLen ; i++) {
                        $('td:eq(0)', oSettings.aoData[oSettings.aiDisplay[i]].nTr).html(i + 1);
                    }
                }
            },

        });
    }
</script>